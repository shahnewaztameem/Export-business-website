!function(a){var b={url:!1,callback:!1,target:!1,duration:120,on:"mouseover",onZoomIn:!1,onZoomOut:!1};a.zoom=function(b,c,d){var e,f,g,h,i,j=a(b).css("position");return a(b).css({position:/(absolute|fixed)/.test(j)?j:"relative",overflow:"hidden"}),d.style.width=d.style.height="",a(d).addClass("zoomImg").css({position:"absolute",top:0,left:0,opacity:0,width:d.width,height:d.height,border:"none",maxWidth:"none"}).appendTo(b),{init:function(){e=a(b).outerWidth(),f=a(b).outerHeight(),g=(d.width-e)/a(c).outerWidth(),h=(d.height-f)/a(c).outerHeight(),i=a(c).offset()},move:function(a){var b=a.pageX-i.left,c=a.pageY-i.top;c=Math.max(Math.min(c,f),0),b=Math.max(Math.min(b,e),0),d.style.left=b*-g+"px",d.style.top=c*-h+"px"}}},a.fn.zoom=function(c){return this.each(function(){var d=a.extend({},b,c||{}),e=d.target||this,f=this,g=document.createElement("img"),h=a(g),i="mousemove.zoom",j=!1;(d.url||(d.url=a(f).find("img").attr("src"),d.url))&&(g.onload=function(){function b(b){k.init(),k.move(b),h.stop().fadeTo(a.support.opacity?d.duration:0,1,!!a.isFunction(d.onZoomIn)&&d.onZoomIn.call(g))}function c(){h.stop().fadeTo(d.duration,0,!!a.isFunction(d.onZoomOut)&&d.onZoomOut.call(g))}var k=a.zoom(e,f,g);"grab"===d.on?a(f).on("mousedown.zoom",function(d){1===d.which&&(a(document).one("mouseup.zoom",function(){c(),a(document).off(i,k.move)}),b(d),a(document).on(i,k.move),d.preventDefault())}):"click"===d.on?a(f).on("click.zoom",function(d){return j?void 0:(j=!0,b(d),a(document).on(i,k.move),a(document).one("click.zoom",function(){c(),j=!1,a(document).off(i,k.move)}),!1)}):"toggle"===d.on?a(f).on("click.zoom",function(a){j?c():b(a),j=!j}):(k.init(),a(f).on("mouseenter.zoom",b).on("mouseleave.zoom",c).on(i,k.move)),a.isFunction(d.callback)&&d.callback.call(g)},g.src=d.url,a(f).one("zoom.destroy",function(){a(f).off(".zoom"),h.remove()}))})},a.fn.zoom.defaults=b}(window.jQuery);